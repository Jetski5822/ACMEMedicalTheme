@using Orchard.ContentManagement

@{
    var field = Model.ContentField;
    var contentItems = (IEnumerable<ContentItem>)field.ContentItems;
    var contentManager = Model.ContentItem.ContentManager;
}
@if (contentItems.Any()) {
    var numberOfItems = contentItems.Count();
    for (int i = 0; i < numberOfItems; i++) {
        var contentItem = contentItems.ElementAt(i);

        var model = contentManager.BuildDisplay(contentItem, "Detail");
        model.Classes.Add("col-xs-12");

        bool isLeft = i % 2 == 0;
        bool isRight = i % 2 == 1;
        bool isLastItem = i == (numberOfItems - 1);

        if (isLeft && !isLastItem) {
            model.Classes.Add("col-sm-5 col-sm-offset-2 col-md-offset-3 col-lg-offset-0");
        }

        if (isRight) {
            model.Classes.Add("col-sm-5 col-sm-offset-2 col-md-offset-3 col-lg-offset-0");
        }

        if (isLeft && isLastItem) {
            model.Classes.Add("col-sm-6");
        }

        @Display(model)
    }
}